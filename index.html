<!DOCTYPE html>
<html>
	<head>
		<title>Draggable</title>
		<meta charset="UTF-8" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script  src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"   integrity="sha256-xI/qyl9vpwWFOXz7+x/9WkG5j/SVnSw21viy8fWwbeE="   crossorigin="anonymous"></script>
		<link rel="stylesheet" type="text/css" href="draggable.css">
	</head>
	
	<body>
		<main id="main"></main>
		<section id="msgs"></section>
		
		<script>
		var id = 0;
			$(document).ready(function(){
				allDraggable();
				$("main").click(function(event){
					var div = document.createElement('div');
					div.className = "draggable";
					div.id  = id.toString();
					div.innerHTML = "hello";
					document.getElementById("msgs").appendChild(div, document.body.firstChild);
					$( "#" + id.toString() ).css('position', "absolute");
					$( "#" + id.toString() ).css('top', event.pageY.toString() + "px");
					$( "#" + id.toString() ).css('left', event.pageX.toString() + "px");
					$( "#" + id.toString() ).css('background-color', "white");
					$( "#" + id.toString() ).css('padding', "5px");
					$( "#" + id.toString() ).css('z-index', "5");
					allDraggable();
					id++;
				});
				
				$("div").dblclick(function(event){
					alert("d");
				});
				
			});
			
			function allDraggable(){
				$(".draggable").draggable();
			}
			
		</script>
		
	</body>
</html>